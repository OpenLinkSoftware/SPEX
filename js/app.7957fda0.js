(function(e){function t(t){for(var n,s,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0c8096":"79a73d31","chunk-321439b1":"e2a4212d","chunk-60da8cc6":"4e49720d","chunk-61091506":"00621f14","chunk-71e9be99":"27262e3e","chunk-076d5769":"5c6fad8e","chunk-24f68fb4":"f79e2606","chunk-40b4988c":"4fcbf94b","chunk-5912d2c4":"7c2ec62c","chunk-2ee30bf6":"927a7c62","chunk-3b3b08aa":"70f930b9","chunk-47c0db6e":"867e7d69","chunk-52a5b8e8":"59324128","chunk-5613e1e0":"e80fa828","chunk-61d2364b":"53dc7d99","chunk-ef895186":"cc058e88"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var p=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0cb3":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return c}));var n=r("2909"),a=r("ade3"),o=r("5530"),s=(r("d81d"),r("d3b7"),r("ddb0"),r("4de4"),r("99af"),r("5db7"),r("73d9"),r("0f53"));function i(e,t){var r=t.prefixes.reduce((function(e,t){var r=t.prefix,n=t.url;return Object(o["a"])(Object(o["a"])({},e),{},Object(a["a"])({},r,n))}),{}),n=Object(o["a"])(Object(o["a"])({},s["a"]),r),i=e.map((function(e){return{"@type":"sh:NodeShape","sh:targetClass":{"@id":t.shrink(e.id)},"sh:property":e.properties.map((function(e){var r=function(e){return"NamedNode"===e.termType?{"sh:class":{"@id":t.shrink(e.id)}}:{"sh:datatype":{"@id":t.shrink(e.id)}}},n={};return 1===e.values.length?n=r(e.values[0]):e.values.length>1&&(n["sh:or"]={"@list":e.values.map(r)}),Object(o["a"])({"@type":"sh:PropertyShape","sh:path":{"@id":t.shrink(e.id)}},n)}))}}));return{"@context":n,"@graph":{"@type":"spex:DefaultShapes","schema:hasPart":i}}}function c(e,t){return e.toArray().map((function(e){var r=e.out(s["d"].targetClass).term;if(!r)return null;var n=r.value,a=e.out(s["d"].property).map((function(e){var r=e.out(s["d"].path).term;if(!r)return null;var n=r.value,a=u(e,t);return{id:n,name:t.shrink(n),values:a}})).filter(Boolean);return{id:n,name:t.shrink(n),properties:a,isShown:!0}})).filter(Boolean)}function u(e,t){return[].concat(Object(n["a"])(e.out(s["d"].datatype).terms.map((function(e){return l(e,"Literal",t)}))),Object(n["a"])(e.out(s["d"].class).terms.map((function(e){return l(e,"NamedNode",t)}))),Object(n["a"])(Object(n["a"])(e.out(s["d"].or).list()).flatMap((function(e){return u(e,t)}))))}function l(e,t,r){return{id:e.value,name:r.shrink(e.value),termType:t}}},"0f53":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return u}));var n=r("d4f0"),a=r.n(n),o=r("e07d");r.d(t,"a",(function(){return o["a"]})),o["a"].spex="https://described.at/spex/";var s=a()(o["a"].rdf),i=a()(o["a"].schema),c=a()(o["a"].sh),u=a()(o["a"].spex)},1:function(e,t){},"150d":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-grow bg-gray-50 relative overflow-hidden"},[r("div",{ref:"layout",staticClass:"relative"},[e._l(e.nodes,(function(t){return r("div",{key:t.id,staticClass:"node absolute"},[e._t("node",(function(){return[e._v(" Missing slot ")]}),{node:t})],2)})),r("svg",{staticClass:"links"},[r("defs",[r("marker",{attrs:{id:"arrow",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"userSpaceOnUse",markerWidth:"10",markerHeight:"10",orient:"auto"}},[r("path",{staticClass:"link-arrow",attrs:{d:"M 0 0 L 10 5 L 0 10 z"}})]),r("marker",{attrs:{id:"arrow-active",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"userSpaceOnUse",markerWidth:"10",markerHeight:"10",orient:"auto"}},[r("path",{staticClass:"link-arrow",attrs:{d:"M 0 0 L 10 5 L 0 10 z"}})]),r("marker",{attrs:{id:"dot",viewBox:"0 0 100 100",refX:"50",refY:"50",markerUnits:"userSpaceOnUse",markerWidth:"6",markerHeight:"6",orient:"auto"}},[r("circle",{staticClass:"link-start",attrs:{cx:"50",cy:"50",r:"50"}})]),r("marker",{attrs:{id:"dot-active",viewBox:"0 0 100 100",refX:"50",refY:"50",markerUnits:"userSpaceOnUse",markerWidth:"6",markerHeight:"6",orient:"auto"}},[r("circle",{staticClass:"link-start",attrs:{cx:"50",cy:"50",r:"50"}})])]),e._l(e.links,(function(t,n){return r("path",{key:n,staticClass:"link",class:{active:e.activeLinks.includes(t)}},[r("title",[e._v(e._s(t.label))])])}))],2)],2),e._t("default")],2)},a=[],o=r("2909"),s=r("ade3"),i=r("5530"),c=(r("d81d"),r("7db0"),r("a15b"),r("99af"),r("159b"),r("ac1f"),r("5319"),r("898b")),u=r("e34f"),l=r.n(u),p={name:"GraphLayout",props:{nodes:{required:!0,type:Array},links:{required:!0,type:Array},activeLinks:{required:!0,type:Array},autoZoom:{default:!0}},mounted:function(){var e=this;this.$nextTick((function(){e.renderGraph()}))},watch:{nodes:function(){var e=this;0!==this.nodes.length&&this.$nextTick((function(){e.renderGraph()}))}},methods:{renderGraph:function(){var e=this,t=this.$el,r=c["g"](t),n=c["g"](this.$refs.layout),a=this.nodes.map((function(e){return Object(i["a"])({},e)})),o=this.links.map((function(e){return Object(i["a"])({},e)})),s=b(n,a,o),u=c["c"]().nodes(a);u.force("links",c["b"](o).id((function(e){var t=e.id;return t})).strength(0)).force("posX",c["d"]().strength(1).x((function(e){return s.nodes[e.id].x}))).force("posY",c["e"]().strength(1).y((function(e){return s.nodes[e.id].y}))).stop(),n.style("width","".concat(s.width,"px")),n.style("height","".concat(s.height,"px"));var l=t.clientWidth/s.width,p=t.clientHeight/s.height,h=Math.min(l,p,1),v=Math.max((t.clientWidth-s.width*h)/2,0),g=Math.max((t.clientHeight-s.height*h)/2,0),x=c["h"]().scaleExtent([.1,1.2]).on("zoom",S);r.call(x),m(r,x),this.autoZoom&&r.call(x.transform,c["i"].translate(v,g).scale(h));for(var w=function(t){return e.links.find((function(e){var r=e.source,n=e.target;return r===t.source.id&&n===t.target.id}))},y=n.select(".links").selectAll(".link").data(o).on("mouseover",(function(t,r){var n=w(r);e.$emit("link-enter",n)})).on("mouseout",(function(t,r){var n=w(r);e.$emit("link-out",n)})),k=n.selectAll(".node").data(a).call(j(u)),_=0,O=Math.ceil(Math.log(u.alphaMin())/Math.log(1-u.alphaDecay()));_<O;++_)u.tick();function C(){k.join().attr("style",(function(e){return"left: ".concat(e.x,"px; top: ").concat(e.y,"px")}));var e=c["f"]().source((function(e){return d(e,t)})).target((function(e){return f(e,t)})).x((function(e){var t=e.x;return t})).y((function(e){var t=e.y;return t}));y.attr("d",e)}function j(e){function t(t,r){t.active||e.alphaTarget(.3).restart(),r.fx=r.x,r.fy=r.y}function r(e,t){t.fx=e.x,t.fy=e.y,C()}function n(t,r){t.active||e.alphaTarget(0),r.fx=null,r.fy=null,C()}return c["a"]().on("start",t).on("drag",r).on("end",n)}function S(e){var t=e.transform;n.style("transform","translate(".concat(t.x,"px, ").concat(t.y,"px) scale(").concat(t.k,")")),n.style("transform-origin","0 0")}C(),u.force("posX",null).force("posY",null)}}};function d(e,t){var r=3,n=t.querySelector('[data-id="'.concat(e.source.id).concat(e.sourceProperty,'"]')),a=e.target.x>e.source.x?n.clientWidth+r:-r,o=60;return{x:e.source.x+a,y:e.source.y+n.offsetTop+o}}function f(e,t){var r=t.querySelector('[data-id="'.concat(e.target.id,'"]')),n=d(e,t);return v(n,e.target,r.clientWidth,r.clientHeight)}function h(e,t,r){return Math.max(t,Math.min(r,e))}function v(e,t,r,n){var a={x:t.x+r,y:t.y+n},o=h(e.x,t.x,a.x),s=h(e.y,t.y,a.y),i=Math.abs(o-t.x),c=Math.abs(o-a.x),u=Math.abs(s-t.y),l=Math.abs(s-a.y),p=Math.min(i,c,u,l);return p===u?{x:o,y:t.y}:p===l?{x:o,y:a.y}:p===i?{x:t.x,y:s}:{x:a.x,y:s}}function b(e,t,r){var n=new l.a.graphlib.Graph;return n.setGraph({rankdir:"RL",nodesep:20,ranksep:50,marginx:10,marginy:10}),n.setDefaultEdgeLabel((function(){return{}})),t.forEach((function(t){var r=e.select('[data-id="'.concat(t.id,'"]')),a=r.style("width").replace("px",""),o=r.style("height").replace("px","");n.setNode(t.id,{width:a,height:o})})),r.forEach((function(e){var t=e.source,r=e.target;n.setEdge(t,r)})),l.a.layout(n),{width:n._label.width,height:n._label.height,nodes:n.nodes().reduce((function(e,t){var r=n.node(t);return Object(i["a"])(Object(i["a"])({},e),{},Object(s["a"])({},t,{id:t,x:r.x-r.width/2,y:r.y-r.height/2}))}),{})}}function m(e,t){c["g"]("body").on("keydown",(function(r){if("body"===r.target.localName){var n=50,a={ArrowUp:[0,n],ArrowRight:[-n,0],ArrowDown:[0,-n],ArrowLeft:[n,0]}[r.key];a&&e.call.apply(e,[t.translateBy].concat(Object(o["a"])(a)))}}))}var g=p,x=(r("b3fa"),r("2877")),w=Object(x["a"])(g,n,a,!1,null,"3b3d8efd",null);t["a"]=w.exports},2:function(e,t){},3:function(e,t){},3468:function(e,t,r){"use strict";r("82e2")},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("283c"),o=r("77b4"),s=r("10bd"),i=r("c0ac"),c=r("7f82"),u=r("61b7"),l=r("184c"),p=r("7584"),d=r("8cbf"),f=r("544d"),h=r("7c46"),v=r("6e24"),b=r("aced"),m=r("d410"),g=r("5e93"),x=r("ecee"),w=r("5d61"),y=r("552c"),k=r("7ac7"),_=r("b0ee"),O=r("834f"),C=r("da53"),j=r("0014"),S=r("eff2"),E=r("0ee4"),R=r("38181"),T=r("7ba6"),L=r("e3e1"),P=r("0097"),$=r("2007"),M=r("ad3d"),N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Splitpanes",{staticClass:"default-theme flex-grow overflow-hidden"},[r("Pane",[r("Splitpanes",{staticClass:"h-full",attrs:{horizontal:""}},[r("Pane",{staticClass:"flex flex-col"},[r("b-navbar",{attrs:{shadow:""},scopedSlots:e._u([{key:"start",fn:function(){return[r("b-navbar-item",{staticClass:"p-0",attrs:{tag:"div"}},[r("b-button",{attrs:{type:"is-white","icon-right":"cog",title:"Options"},on:{click:e.showSettings}},[r("h2",[e.endpoint?r("span",[e._v(e._s(e.endpoint.url))]):r("span",[e._v("No endpoint configured yet")])])])],1)]},proxy:!0},{key:"end",fn:function(){return[r("b-navbar-item",{staticClass:"p-0",attrs:{tag:"div"}},[e.endpoint&&!e.error?r("b-button",{attrs:{type:"is-white"},on:{click:e.showShacl}},[e._v(" SHACL ")]):e._e()],1)]},proxy:!0}])}),e.datamodel?r("Splitpanes",{staticClass:"overflow-hidden",attrs:{vertical:""}},[e.tablesListShown?r("Pane",{attrs:{size:"20"}},[r("TablesList",{attrs:{datamodel:e.datamodel},on:{"toggle-table":e.toggleTable,"select-viewport":e.selectViewport,close:e.hideTablesList}})],1):e._e(),r("Pane",{staticClass:"relative h-full"},[r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.tablesListShown,expression:"!tablesListShown"}],staticClass:"z-10 absolute m-3",attrs:{"icon-left":"bars"},on:{click:e.showTablesList}},[e._v(" Classes ")]),r("OverviewTables",{attrs:{datamodel:e.datamodel},on:{explore:e.exploreTable,"toggle-table":e.toggleTable}})],1)],1):e._e(),e.isLoading?r("div",{staticClass:"section relative"},[r("b-loading",{attrs:{active:"","is-full-page":!1}})],1):e._e(),e.error?r("div",{staticClass:"section"},[r("div",{staticClass:"message is-danger"},[r("div",{staticClass:"message-body"},[e._v(" Error loading data: "+e._s(e.error)+" ")])])]):e._e()],1),e.tableExplorerShown||e.resourcesExplorerShown?r("Pane",[r("Splitpanes",{attrs:{vertical:""}},[e.tableExplorerShown?r("Pane",[r("TableExplorer",{attrs:{table:e.exploredTable,endpoint:e.endpoint},on:{close:e.hideExplorer,"explore-resource":e.exploreResource}})],1):e._e(),e.resourcesExplorerShown?r("Pane",[r("ResourcesExplorer",{attrs:{resources:e.exploredResources,endpoint:e.endpoint},on:{close:e.hideResourcesExplorer,"explore-resource":e.exploreResource,"unexplore-resource":e.unexploreResource}})],1):e._e()],1)],1):e._e()],1)],1),e.settingsShown?r("Pane",{attrs:{size:"30"}},[r("SettingsPane",{attrs:{settings:e.settings},on:{change:e.loadEndpoint,close:e.hideSettings}})],1):e._e()],1)},I=[],A=r("1da1"),D=(r("4de4"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("d81d"),r("159b"),r("96cf"),r("512e")),G=(r("c1ea"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-card w-auto"},[r("div",{staticClass:"modal-card-head flex justify-between py-4"},[r("h3",[e._v("Generated SHACL shapes")]),r("b-button",{attrs:{"icon-left":"upload",title:"Load SHACL shapes"},on:{click:e.load}})],1),r("div",{staticClass:"modal-card-body overflow-y-hidden flex flex-col pb-0"},[r("div",{staticClass:"flex justify-between"},[r("b-field",e._l(e.formats,(function(t){return r("b-radio-button",{key:t.value,attrs:{"native-value":t.value},model:{value:e.selectedFormat,callback:function(t){e.selectedFormat=t},expression:"selectedFormat"}},[e._v(" "+e._s(t.label)+" ")])})),1),r("b-button",{attrs:{"icon-left":"clipboard"},on:{click:e.copy}},[e._v("Copy")])],1),r("rdf-editor",{ref:"snippet",staticClass:"overflow-y-auto",attrs:{value:e.shaclStr,format:e.selectedFormat,readonly:""},domProps:{prefixes:e.prefixes,customPrefixes:e.customPrefixes}})],1)])}),H=[],U=r("ade3"),B=r("5530"),F=(r("a15b"),r("c1de"),{name:"ModalShacl",props:["shacl","loadShacl","endpoint"],data:function(){var e=this.endpoint.prefixes.reduce((function(e,t){var r=t.prefix,n=t.url;return Object(B["a"])(Object(B["a"])({},e),{},Object(U["a"])({},r,n))}),{});return{shaclStr:JSON.stringify(this.shacl,null,2),formats:[{label:"JSON-LD",value:"application/ld+json"},{label:"Turtle",value:"text/turtle"},{label:"N-Triples",value:"application/n-triples"}],selectedFormat:"application/ld+json",prefixes:["sh","schema"].join(","),customPrefixes:e}},methods:{copy:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$refs.snippet.codeMirror.value,t.next=3,navigator.clipboard.writeText(r);case 3:b["a"].open("Copied ðŸ‘");case 4:case"end":return t.stop()}}),t)})))()},load:function(){this.$parent.close(),this.loadShacl()}}}),q=F,V=(r("3468"),r("2877")),W=Object(V["a"])(q,G,H,!1,null,"76d256ea",null),z=W.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-card w-auto"},[r("div",{staticClass:"modal-card-head"},[e._v("Load SHACL shapes")]),r("div",{staticClass:"modal-card-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("b-field",{attrs:{addons:!1,message:e.error,type:{"is-danger":e.error}}},[r("b-input",{attrs:{type:"textarea"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),r("p",{staticClass:"help"},[e._v(" Paste your SHACL shapes in "),r("strong",[e._v("N3")]),e._v(" format in the field above. ")])],1),r("b-field",[r("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[e._v("Load")])])],1)])])},J=[],X=(r("25f0"),r("d0b4")),Z=r.n(X),K=r("4e8b"),Q={name:"ModalShaclLoad",props:["load"],data:function(){return{data:"",error:null}},methods:{onSubmit:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.data){t.next=2;break}return t.abrupt("return");case 2:r=new K["a"];try{n=r.parse(e.data),a=Z.a.dataset(n),e.load(a)}catch(o){e.error=o.toString()}case 4:case"end":return t.stop()}}),t)})))()}}},ee=Q,te=Object(V["a"])(ee,Y,J,!1,null,null,null),re=te.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.tablesVisible.length>0?r("GraphLayout",{attrs:{nodes:e.tablesVisible,links:e.links,"active-links":e.activeLinks},on:{"link-enter":e.onLinkHover,"link-out":e.onUnhover},scopedSlots:e._u([{key:"node",fn:function(t){var n=t.node;return[r("OverviewTable",{attrs:{table:n,"active-links":e.activeLinks},on:{explore:function(t){return e.$emit("explore",t)},hide:function(t){return e.$emit("toggle-table",t,!1)},"hover-title":e.onHoverTable,"unhover-title":e.onUnhover,"hover-property":e.onHoverProperty,"unhover-property":e.onUnhover}})]}},{key:"default",fn:function(){return[r("p",{directives:[{name:"show",rawName:"v-show",value:e.datamodel.isIntrospected,expression:"datamodel.isIntrospected"}],staticClass:"z-10 absolute bottom-1 right-1 text-sm text-gray-400"},[e._v(" introspected ")])]},proxy:!0}],null,!1,3663627199)}):r("div",{staticClass:"flex-grow bg-gray-50 flex flex-col items-center justify-center"},[r("p",{staticClass:"pb-4"},[e._v("No classes to show")])])},ae=[],oe=(r("5db7"),r("73d9"),r("b0c0"),r("150d")),se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ResourceCard",e._g({attrs:{resource:e.table,"active-links":e.activeLinks},scopedSlots:e._u([{key:"actions",fn:function(){return[r("b-tooltip",{attrs:{label:"Hide"}},[r("b-button",{attrs:{type:"is-light","icon-left":"eye-slash"},on:{click:function(t){return e.$emit("hide",e.table)}}})],1),r("b-tooltip",{attrs:{label:"Explore"}},[r("b-button",{attrs:{type:"is-light","icon-left":"table"},on:{click:function(t){return e.$emit("explore",e.table)}}})],1)]},proxy:!0}])},e.$listeners))},ie=[],ce=r("95fd"),ue={name:"OverviewTable",props:["table","activeLinks"],components:{ResourceCard:ce["a"]}},le=ue,pe=Object(V["a"])(le,se,ie,!1,null,null,null),de=pe.exports,fe={name:"OverviewTables",components:{GraphLayout:oe["a"],OverviewTable:de},props:["datamodel"],data:function(){return{activeLinks:[]}},computed:{tablesVisible:function(){return this.datamodel.tables.filter((function(e){var t=e.isShown;return t}))},links:function(){var e=new Set(this.tablesVisible.map((function(e){var t=e.id;return t})));return this.tablesVisible.flatMap((function(e){return e.properties.map((function(t){return Object(B["a"])(Object(B["a"])({},t),{},{table:e})}))})).reduce((function(t,r){return r.values.forEach((function(n){var a=r.table.id,o=n.id;e.has(o)&&t.push({source:a,target:o,sourceProperty:r.id,label:r.name})})),t}),[])}},methods:{onHoverTable:function(e){this.activeLinks=this.links.filter((function(t){return t.source===e.id}))},onHoverProperty:function(e,t){this.activeLinks=this.links.filter((function(r){return r.source===e.id&&r.sourceProperty===t.id}))},onUnhover:function(){this.activeLinks=[]},onLinkHover:function(e){this.activeLinks=[e]}}},he=fe,ve=Object(V["a"])(he,ne,ae,!1,null,null,null),be=ve.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card h-full flex flex-col"},[r("div",{staticClass:"card-header has-background-light"},[r("h3",{staticClass:"card-header-title"},[e._v(" Resources explorer ")]),r("p",{staticClass:"card-header-icon py-0 px-1"},[r("b-button",{attrs:{type:"is-light","icon-left":"times",title:"Close"},on:{click:function(t){return e.$emit("close")}}})],1)]),r("GraphLayout",{staticClass:"card-content p-0",attrs:{nodes:e.resources,links:e.links,"active-links":e.activeLinks,"auto-zoom":!1},on:{"link-enter":e.onLinkHover,"link-out":e.onUnhover},scopedSlots:e._u([{key:"node",fn:function(t){var n=t.node;return[r("ResourceCard",{attrs:{resource:n,"active-links":e.activeLinks},on:{"hover-title":e.onHoverResource,"unhover-title":e.onUnhover,"hover-property":e.onHoverProperty,"unhover-property":e.onUnhover},scopedSlots:e._u([{key:"actions",fn:function(){return[r("b-tooltip",{attrs:{label:"Open URI in new tab"}},[r("a",{staticClass:"button is-light flex items-baseline gap-2",attrs:{href:n.id,target:"_blank",rel:"noopener noreferrer"}},[r("b-icon",{staticClass:"w-5",attrs:{icon:"external-link-alt"}})],1)]),r("b-tooltip",{attrs:{label:"Hide"}},[r("b-button",{attrs:{type:"is-light","icon-left":"eye-slash"},on:{click:function(t){return e.$emit("unexplore-resource",n)}}})],1)]},proxy:!0},{key:"property-value",fn:function(t){var n=t.value;return[r("div",{staticClass:"flex items-center"},[r("Term",{attrs:{term:n,endpoint:e.endpoint}}),r("TermExploreButton",{attrs:{term:n},on:{"explore-resource":function(t){return e.$emit("explore-resource",t)}}})],1)]}}],null,!0)})]}}])})],1)},ge=[],xe=r("acd7"),we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.canExplore?r("b-tooltip",{attrs:{label:"Explore"}},[r("b-button",{attrs:{"icon-left":"eye",type:"is-white"},on:{click:function(t){return e.$emit("explore-resource",e.resource)}}})],1):e._e()},ye=[],ke=(r("caad"),{name:"TermExploreButton",props:["term","endpoint"],computed:{canExplore:function(){return["NamedNode","BlankNode"].includes(this.term.termType)},resource:function(){return{id:this.term.value,name:this.term.value,term:this.term}}}}),_e=ke,Oe=Object(V["a"])(_e,we,ye,!1,null,null,null),Ce=Oe.exports,je={name:"ResourcesExplorer",components:{GraphLayout:oe["a"],ResourceCard:ce["a"],Term:xe["a"],TermExploreButton:Ce},props:["resources","endpoint"],data:function(){return{activeLinks:[]}},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchResources();case 1:case"end":return t.stop()}}),t)})))()},watch:{endpoint:function(){this.fetchResources()},resources:function(){this.fetchResources()}},computed:{uri:function(){return this.$route.params.uri},links:function(){var e=new Set(this.resources.map((function(e){var t=e.id;return t})));return this.resources.filter((function(e){return e.properties})).flatMap((function(e){return e.properties.map((function(t){return Object(B["a"])(Object(B["a"])({},t),{},{resource:e})}))})).reduce((function(t,r){return r.values.forEach((function(n){var a=r.resource.id,o=n.value;e.has(o)&&t.push({source:a,target:o,sourceProperty:r.id,label:r.name})})),t}),[])}},methods:{fetchResources:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.endpoint){t.next=2;break}return t.abrupt("return");case 2:e.resources.forEach(function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(r){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.isFetched){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.endpoint.fetchResource(r.id);case 5:n=t.sent,a=Object(B["a"])(Object(B["a"])({},n),{},{isFetched:!0}),e.$emit("explore-resource",a),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),o=Object(B["a"])(Object(B["a"])({},r),{},{isFetched:!0}),e.$emit("explore-resource",o);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},onLinkHover:function(e){this.activeLinks.push(e)},onUnhover:function(){this.activeLinks=[]},onHoverResource:function(e){this.activeLinks=this.links.filter((function(t){return t.source===e.id}))},onHoverProperty:function(e,t){this.activeLinks=this.links.filter((function(r){return r.source===e.id&&r.sourceProperty===t.id}))}}},Se=je,Ee=Object(V["a"])(Se,me,ge,!1,null,null,null),Re=Ee.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card is-shadowless overflow-y-auto"},[r("div",{staticClass:"card-header has-background-light"},[r("h3",{staticClass:"card-header-title"},[e._v("Options")]),r("p",{staticClass:"card-header-icon py-0 px-1"},[r("b-button",{staticClass:"button is-white",attrs:{"icon-left":"times",type:"is-light",title:"Close"},on:{click:e.onClose}})],1)]),r("form",{staticClass:"card-content",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("b-field",{attrs:{label:"Endpoint URL"}},[r("b-input",{on:{blur:e.fetchGraphs},model:{value:e.data.url,callback:function(t){e.$set(e.data,"url",t)},expression:"data.url"}})],1),r("b-field",{attrs:{label:"Username"}},[r("b-input",{on:{blur:e.fetchGraphs},model:{value:e.data.user,callback:function(t){e.$set(e.data,"user",t)},expression:"data.user"}})],1),r("b-field",{attrs:{label:"Password"}},[r("b-input",{attrs:{type:"password","password-reveal":""},on:{blur:e.fetchGraphs},model:{value:e.data.password,callback:function(t){e.$set(e.data,"password",t)},expression:"data.password"}})],1),r("b-field",{attrs:{label:"Graph",message:e.fetchError,type:e.fetchError?"is-danger":""}},[r("b-field",[r("b-autocomplete",{attrs:{data:e.graphs,loading:e.loadingGraphs,placeholder:"DEFAULT","icon-right":"angle-down",expanded:"","check-infinite-scroll":"","open-on-focus":"",clearable:""},on:{"infinite-scroll":e.fetchMoreGraphs},model:{value:e.data.graph,callback:function(t){e.$set(e.data,"graph",t)},expression:"data.graph"}})],1)],1),r("b-field",{staticClass:"flex flex-col items-stretch gap-1",attrs:{label:"Custom prefixes",addons:!1}},[e._l(e.data.prefixes,(function(t,n){return r("div",{key:n,staticClass:"flex gap-1"},[r("b-input",{staticClass:"w-24",attrs:{placeholder:"schema",required:""},model:{value:t.prefix,callback:function(r){e.$set(t,"prefix",r)},expression:"prefix.prefix"}}),r("b-input",{staticClass:"flex-grow",attrs:{placeholder:"http://schema.org/",required:""},model:{value:t.url,callback:function(r){e.$set(t,"url",r)},expression:"prefix.url"}}),r("b-button",{attrs:{type:"is-white","icon-left":"minus",title:"Remove prefix"},on:{click:function(t){return e.removePrefix(n)}}})],1)})),0===e.data.prefixes.length?r("p",{staticClass:"has-text-grey"},[e._v("No custom prefix")]):e._e(),r("p",[r("b-button",{attrs:{type:"is-white","icon-left":"plus",title:"Add prefix"},on:{click:e.addPrefix}})],1)],2),r("b-field",{attrs:{addons:!1}},[r("b-switch",{model:{value:e.data.forceIntrospection,callback:function(t){e.$set(e.data,"forceIntrospection",t)},expression:"data.forceIntrospection"}},[e._v(" Force introspection ")]),r("p",{staticClass:"help"},[e._v(" By default, the explorer will use the endpoint schema provided at "),r("code",[e._v("endpoint/.well-known/void")]),e._v(" (if any). Use this option to force an introspection. ")])],1),r("b-field",[r("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[e._v("Load")])])],1)])},Le=[],Pe=(r("99af"),r("a434"),r("d4ec")),$e=r("bee2"),Me=r("2909"),Ne=(r("b64b"),r("2532"),r("ac1f"),r("5319"),r("4ec9"),r("fc18")),Ie=r.n(Ne),Ae=r("8cce"),De=r.n(Ae),Ge=r("4e8a"),He=r.n(Ge),Ue=r("bb03"),Be=r("0cb3"),Fe=r("0f53"),qe=".well-known/void",Ve=Object(Me["a"])(Object.keys(Fe["a"])),We=["en","*"],ze=function(){function e(t){var r=t.url,n=t.user,a=void 0===n?null:n,o=t.password,s=void 0===o?null:o,i=t.prefixes,c=void 0===i?[]:i,u=t.graph,l=void 0===u?"":u,p=t.forceIntrospection,d=void 0!==p&&p;Object(Pe["a"])(this,e),this.url=r,this.user=a,this.password=s,this.prefixes=c,this.graph=l,this.client=new De.a({endpointUrl:r,user:a,password:s}),this.forceIntrospection=d,Object.keys(Fe["a"]).forEach((function(e){Ve.includes(e)||delete Fe["a"][e]})),c.forEach((function(e){var t=e.prefix,r=e.url;Fe["a"][t]=r}))}return Object($e["a"])(e,[{key:"shrink",value:function(e){return Object(Ue["a"])(e)||e}},{key:"fetchGraphs",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.offset||0,n=t.limit||null,a="\n      SELECT DISTINCT ?g\n      WHERE {\n        GRAPH ?g { ?s ?p ?o }\n      }\n      ORDER BY ?g\n      OFFSET ".concat(r,"\n      LIMIT ").concat(n,"\n    "),e.next=6,this.client.query.select(a);case 6:return o=e.sent,e.abrupt("return",o.map((function(e){var t=e.g.value;return t})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchDatamodel",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.forceIntrospection){e.next=2;break}return e.abrupt("return",this.fetchIntrospectDatamodel());case 2:return e.next=4,this.fetchPredefinedDatamodel();case 4:return t=e.sent,e.abrupt("return",t.tables?t:this.fetchIntrospectDatamodel());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchPredefinedDatamodel",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,o,s,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.url.replace(/query\/?$/,qe),r=this.graph?"FROM <".concat(this.graph,">"):"",n="\n      #pragma describe.strategy cbd\n      DESCRIBE <".concat(t,">\n      ").concat(r,"\n    "),e.next=5,this.client.query.construct(n);case 5:return a=e.sent,o=Ie()({dataset:Z.a.dataset(a),term:Z.a.namedNode(t)}),s=o.out(Fe["e"].shape).has(Fe["b"].type,Fe["e"].DefaultShapes),i=s.term?Object(Be["a"])(s.out(Fe["c"].hasPart),this):null,c=o.out(Fe["e"].viewport).map((function(e){return{name:e.out(Fe["c"].name,{language:We}).value,tables:new Set(e.out(Fe["e"].includes).terms.map((function(e){var t=e.value;return t})))}})),e.abrupt("return",{tables:i,viewports:c,isIntrospected:!1});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchIntrospectDatamodel",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._fetchStructure();case 2:return t=e.sent,r=t.reduce((function(e,t){var r=t.cls,n=t.property,o=t.linktype,s=t.datatype,i=e.get(r.value)||{id:r.value,name:a.shrink(r.value),properties:new Map,isShown:!0},c=o&&o.value||s&&s.value||null,u=o?"NamedNode":s?"Literal":null,l=c&&{id:c,name:a.shrink(c),termType:u};return i.properties.has(n.value)?l&&i.properties.get(n.value).values.push(l):i.properties.set(n.value,{id:n.value,name:a.shrink(n.value),values:l?[l]:[]}),e.set(r.value,i),e}),new Map),n=Object(Me["a"])(r.values()).map((function(e){return Object(B["a"])(Object(B["a"])({},e),{},{properties:Object(Me["a"])(e.properties.values())})})),e.abrupt("return",{tables:n,viewports:[],isIntrospected:!0});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchStructure",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.graph?"FROM <".concat(this.graph,">"):"",r="\n      SELECT DISTINCT ?cls ?property ?linktype ?datatype\n      ".concat(t,"\n      WHERE {\n        ?subject a ?cls .\n        ?subject ?property ?object .\n\n        OPTIONAL {\n          ?object a ?linktype .\n        }\n\n        BIND(DATATYPE(?object) AS ?datatype)\n      }\n    "),e.abrupt("return",this.client.query.select(r));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTableData",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},n=r.limit||100,a=this.graph?"GRAPH <".concat(this.graph,">"):"",o="\n      DESCRIBE ?subject {\n        {\n          SELECT ?subject\n          WHERE {\n            ".concat(a," {\n              ?subject a <").concat(t.id,">\n            }\n          }\n          LIMIT ").concat(n,"\n        }\n      }\n    "),e.next=6,this.client.query.construct(o);case 6:return s=e.sent,i=s.reduce((function(e,t){var r=t.subject,n=t.predicate.value,a=t.object,o=e.get(r.value)||{id:r.value,term:r};return o[n]||(o[n]=new He.a),o[n].add(a),e.set(r.value,o),e}),new Map),e.abrupt("return",Object(Me["a"])(i.values()));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchResource",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="\n      DESCRIBE <".concat(t,"> {}\n    "),e.next=3,this.client.query.construct(r);case 3:return n=e.sent,a=n.reduce((function(e,t){var r=t.predicate,n=t.object;if(!e.has(r.value)){var a={id:r.value,term:r,name:s.shrink(r.value),values:[]};e.set(r.value,a)}return e.get(r.value).values.push(n),e}),new Map),o={value:t,termType:"NamedNode"},e.abrupt("return",{id:t,term:o,name:this.shrink(o.value),properties:Object(Me["a"])(a.values())});case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ye=r("cd3f"),Je=r.n(Ye),Xe=10,Ze={name:"SettingsPane",props:["settings"],data:function(){return{endpoint:null,graphs:[],loadingGraphs:!1,fetchError:null,graphsOffset:0,data:Je()(this.settings)}},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchGraphs();case 2:case"end":return t.stop()}}),t)})))()},methods:{onSubmit:function(){this.$emit("change",this.data)},onClose:function(){this.$emit("close")},fetchGraphs:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingGraphs=!0,e.endpoint=new ze(e.data),e.graphsOffset=0,t.next=5,e.fetchGraphPage();case 5:e.graphs=t.sent;case 6:case"end":return t.stop()}}),t)})))()},fetchMoreGraphs:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchGraphPage();case 2:r=t.sent,e.graphs=e.graphs.concat(r);case 4:case"end":return t.stop()}}),t)})))()},fetchGraphPage:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingGraphs=!0,e.fetchError="",t.prev=2,r={offset:e.graphsOffset,limit:Xe},e.graphsOffset=e.graphsOffset+Xe,t.next=7,e.endpoint.fetchGraphs(r);case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t["catch"](2),e.fetchError=t.t0.toString(),t.abrupt("return",[]);case 14:return t.prev=14,e.loadingGraphs=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})))()},addPrefix:function(){this.data.prefixes.push({prefix:"",url:""})},removePrefix:function(e){this.data.prefixes.splice(e,1)}},watch:{settings:function(e){this.data=Je()(e)},"data.url":function(){this.endpoint=new ze(this.data),this.graphs=[],this.data.graph=null}}},Ke=Ze,Qe=Object(V["a"])(Ke,Te,Le,!1,null,null,null),et=Qe.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card h-full flex flex-col"},[r("div",{staticClass:"card-header has-background-light"},[r("h3",{staticClass:"card-header-title"},[e.table?r("span",[e._v(e._s(e.table.name))]):r("span",[e._v("No table selected")])]),r("p",{staticClass:"card-header-icon py-0 px-1"},[r("b-button",{attrs:{type:"is-light","icon-left":"times",title:"Close"},on:{click:e.onClose}})],1)]),r("div",{staticClass:"card-content p-0 overflow-auto"},[e.table?r("table",{staticClass:"table is-fullwidth"},[r("thead",[r("tr",[r("th",[e._v("URI")]),e._l(e.table.properties,(function(t,n){return r("th",{key:n},[e._v(" "+e._s(t.name)+" ")])}))],2)]),r("tbody",e._l(e.data,(function(t,n){return r("tr",{key:n},[r("td",[r("p",{staticClass:"flex items-center"},[r("Term",{attrs:{term:t.term,endpoint:e.endpoint}}),r("TermExploreButton",{attrs:{term:t.term},on:{"explore-resource":function(t){return e.$emit("explore-resource",t)}}})],1)]),e._l(e.table.properties,(function(n,a){return r("td",{key:a},e._l(t[n.id]||[],(function(t,n){return r("p",{key:n,staticClass:"flex items-center"},[r("Term",{attrs:{term:t,endpoint:e.endpoint}}),r("TermExploreButton",{attrs:{term:t},on:{"explore-resource":function(t){return e.$emit("explore-resource",t)}}})],1)})),0)}))],2)})),0)]):e._e()]),e.isLoading?r("div",{staticClass:"section relative"},[r("b-loading",{attrs:{active:"","is-full-page":!1}})],1):e._e(),e.error?r("div",{staticClass:"message is-danger"},[r("div",{staticClass:"message-body"},[e._v(" Error loading data: "+e._s(e.error)+" ")])]):e._e()])},rt=[],nt={name:"TableExplorer",props:["table","tables","endpoint"],components:{Term:xe["a"],TermExploreButton:Ce},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{data:[],error:null,isLoading:!1}},methods:{onClose:function(){this.$emit("close")},loadData:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.data=[],e.error=null,e.table){t.next=4;break}return t.abrupt("return");case 4:return e.isLoading=!0,t.prev=5,t.next=8,e.endpoint.fetchTableData(e.table);case 8:e.data=t.sent,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](5),e.error=t.t0,console.error(t.t0);case 15:return t.prev=15,e.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[5,11,15,18]])})))()}},watch:{table:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},at=nt,ot=Object(V["a"])(at,tt,rt,!1,null,null,null),st=ot.exports,it=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card is-shadowless overflow-y-auto"},[r("div",{staticClass:"card-header has-background-light"},[r("h3",{staticClass:"card-header-title"},[e._v("Classes")]),r("p",{staticClass:"card-header-icon py-0 px-1"},[r("b-button",{attrs:{"icon-left":"times",type:"is-light"},on:{click:function(t){return e.$emit("close")}}})],1)]),r("div",{staticClass:"card-content px-0 py-1"},[r("b-field",{directives:[{name:"show",rawName:"v-show",value:e.datamodel.viewports.length>0,expression:"datamodel.viewports.length > 0"}],staticClass:"m-0 px-2 py-2 border-b",attrs:{label:"Predefined views"}},[r("b-select",{on:{input:function(t){return e.$emit("select-viewport",t)}}},[r("option",{domProps:{value:null}},[e._v("-")]),e._l(e.datamodel.viewports,(function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v(e._s(t.name))])}))],2)],1),r("ul",e._l(e.datamodel.tables,(function(t){return r("li",{key:t.id,staticClass:"panel-block is-justify-content-space-between pr-0"},[r("span",[e._v(e._s(t.name))]),r("b-switch",{attrs:{type:"is-primary",value:t.isShown},on:{input:function(r){return e.$emit("toggle-table",t,r)}}})],1)})),0)],1)])},ct=[],ut={name:"TablesList",props:["datamodel"]},lt=ut,pt=Object(V["a"])(lt,it,ct,!1,null,null,null),dt=pt.exports,ft={name:"Spex",components:{OverviewTables:be,Pane:D["Pane"],ResourcesExplorer:Re,SettingsPane:et,Splitpanes:D["Splitpanes"],TableExplorer:st,TablesList:dt},props:["settings"],data:function(){return{endpoint:null,settingsShown:!1,tableExplorerShown:!1,tablesListShown:!1,listShown:!1,exploredTable:null,exploredResources:[],datamodel:null,isLoading:!1,error:null}},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadEndpoint(e.settings);case 2:case"end":return t.stop()}}),t)})))()},computed:{resourcesExplorerShown:function(){return this.exploredResources.length>0}},methods:{loadData:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.endpoint){t.next=2;break}throw new Error("No endpoint defined");case 2:return e.resetView(),e.error=null,e.isLoading=!0,e.datamodel=null,t.prev=6,t.next=9,e.endpoint.fetchDatamodel();case 9:e.datamodel=t.sent,t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](6),e.error=t.t0,e.showSettings(),console.error(t.t0);case 17:return t.prev=17,e.isLoading=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[6,12,17,20]])})))()},loadEndpoint:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.$emit("settings-change",e),!e.url){r.next=7;break}return t.endpoint=new ze(e),r.next=5,t.loadData();case 5:r.next=8;break;case 7:t.endpoint=null;case 8:case"end":return r.stop()}}),r)})))()},showSettings:function(){this.settingsShown=!0},hideSettings:function(){this.settingsShown=!1},exploreTable:function(e){this.tableExplorerShown=!0,this.exploredTable=e},exploreResource:function(e){this.unexploreResource(e),this.exploredResources.push(e)},unexploreResource:function(e){this.exploredResources=this.exploredResources.filter((function(t){return t.id!==e.id}))},hideResourcesExplorer:function(){this.exploredResources=[]},toggleTable:function(e,t){e.isShown=t},selectViewport:function(e){var t=e?e.tables:new Set(this.datamodel.tables.map((function(e){var t=e.id;return t})));this.datamodel.tables.forEach((function(e){t.has(e.id)?e.isShown=!0:e.isShown=!1}))},showTablesList:function(){this.tablesListShown=!0},hideTablesList:function(){this.tablesListShown=!1},hideExplorer:function(){this.tableExplorerShown=!1},resetView:function(){this.exploredTable=null,this.tableExplorerShown=!1},showShacl:function(){var e=Object(Be["b"])(this.datamodel.tables,this.endpoint);u["a"].open({parent:this,component:z,props:{shacl:e,loadShacl:this.loadShacl,endpoint:this.endpoint},hasModalCard:!0,trapFocus:!0})},loadShacl:function(){var e=this,t=u["a"].open({parent:this,component:re,props:{load:function(r){t.close();try{e.datamodel=Object(Be["a"])(r,e.endpoint)}catch(n){console.error(n)}}},hasModalCard:!0,trapFocus:!0})}}},ht=ft,vt=Object(V["a"])(ht,N,I,!1,null,null,null),bt=vt.exports;r("5717");function mt(e){e.config.productionTip=!1,x["c"].add(y["faBars"],w["faAngleDown"],_["faClipboard"],k["faCog"],O["faExternalLinkAlt"],C["faEye"],j["faEyeSlash"],S["faMinus"],E["faPlus"],R["faSync"],T["faTable"],L["faTimes"],P["faTimesCircle"],$["faUpload"]),e.component("FontAwesomeIcon",M["a"]),e.use(a["a"]),e.use(o["a"]),e.use(s["a"]),e.use(i["a"]),e.use(c["a"]),e.use(u["b"]),e.use(l["a"]),e.use(p["a"]),e.use(d["a"]),e.use(f["a"]),e.use(h["a"]),e.use(v["a"]),e.use(b["b"]),e.use(m["a"]),g["a"].setOptions({defaultIconPack:"fas",defaultIconComponent:"FontAwesomeIcon",defaultTooltipType:"is-light"})}var gt,xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"h-full flex flex-col",attrs:{id:"app"}},[r("router-view")],1)},wt=[],yt={},kt=Object(V["a"])(yt,xt,wt,!1,null,null,null),_t=kt.exports,Ot=r("8c4f"),Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Spex",{attrs:{settings:e.settings},on:{"settings-change":e.onSettingsChange}})},jt=[],St=(r("1276"),r("fb6a"),r("c4c4")),Et={url:"https://lod.lobbywatch.ch/query/",user:null,password:null,graph:null,prefixes:[{prefix:"lobbywatch",url:"https://lod.lobbywatch.ch/"},{prefix:"wdt",url:"http://www.wikidata.org/prop/direct/"}],forceIntrospection:!1};try{var Rt=r(!function(){var e=new Error("Cannot find module '../config.local'");throw e.code="MODULE_NOT_FOUND",e}());gt=Object(B["a"])(Object(B["a"])({},Et),Rt)}catch(Yt){gt=Et}var Tt=gt,Lt={components:{Spex:bt},data:function(){var e=Nt(this.$route.query),t=Pt(),r=Object(B["a"])(Object(B["a"])(Object(B["a"])({},Tt),t),e);return{settings:r}},methods:{onSettingsChange:function(e){this.settings=e,$t(e),this.updateURL(e)},updateURL:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=At(e),r.prev=1,r.next=4,t.$router.push({query:n});case 4:r.next=10;break;case 6:if(r.prev=6,r.t0=r["catch"](1),Object(St["b"])(r.t0,St["a"].duplicated)){r.next=10;break}throw r.t0;case 10:case"end":return r.stop()}}),r,null,[[1,6]])})))()}}};function Pt(){var e=localStorage.getItem("settings");return e?JSON.parse(e):{}}function $t(e){localStorage.setItem("settings",JSON.stringify(e))}var Mt=["url","graph","prefixes","forceIntrospection"];function Nt(e){return Mt.reduce((function(t,r){return r in e&&(t[r]=It(r,e[r])),t}),{})}function It(e,t){return"prefixes"===e?("string"===typeof t&&(t=[t]),t.map((function(e){var t=e.split(":")[0],r=e.split(":").slice(1).join(":");return{prefix:t,url:r}}))):"forceIntrospection"===e?"true"===t:t}function At(e){return Mt.reduce((function(t,r){return Object(B["a"])(Object(B["a"])({},t),{},Object(U["a"])({},r,Dt(r,e[r])))}),{})}function Dt(e,t){return"prefixes"===e?t.map((function(e){var t=e.prefix,r=e.url;return"".concat(t,":").concat(r)})):t}var Gt=Lt,Ht=Object(V["a"])(Gt,Ct,jt,!1,null,null,null),Ut=Ht.exports,Bt=function(){return r.e("chunk-61091506").then(r.bind(null,"30bb"))},Ft=function(){return r.e("chunk-60da8cc6").then(r.bind(null,"f78d"))};n["a"].use(Ot["a"]);var qt=[{path:"/",name:"Overview",component:Ut},{path:"/shacl",name:"ShaclEditor",component:Bt},{path:"/rdf-editor",name:"RdfEditor",component:Ft}],Vt=new Ot["a"]({mode:"hash",base:"/",routes:qt}),Wt=Vt,zt=r("9483");Object(zt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),mt(n["a"]),new n["a"]({router:Wt,render:function(e){return e(_t)}}).$mount("#app")},5717:function(e,t,r){},6:function(e,t){},7:function(e,t){},"7c34":function(e,t,r){},8:function(e,t){},"82e2":function(e,t,r){},"8ec2":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-tooltip",{attrs:{label:e.label,type:"is-dark",delay:300,square:"",triggers:e.label?["hover"]:[]}},[e._t("default")],2)},a=[],o={name:"TermTooltip",props:["label"]},s=o,i=r("2877"),c=Object(i["a"])(s,n,a,!1,null,null,null);t["a"]=c.exports},9:function(e,t){},"95fd":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"absolute border rounded shadow-md bg-white opacity-90 text-sm",class:{active:e.isActive},attrs:{"data-id":e.resource.id}},[r("header",{staticClass:"bg-gray-100 flex items-center gap-4 justify-between px-3 py-2",on:{mouseenter:function(t){return e.$emit("hover-title",e.resource)},mouseleave:function(t){return e.$emit("unhover-title",e.resource)}}},[r("h3",{staticClass:"font-bold"},[r("TermTooltip",{attrs:{label:e.resource.id}},[e._v(" "+e._s(e.resource.name)+" ")])],1),r("span",{staticClass:"flex flex-nowrap"},[e._t("actions")],2)]),r("table",{staticClass:"w-full"},e._l(e.resource.properties,(function(t,n){return r("tr",{key:n,class:{active:e.isPropertyActive(t)},attrs:{"data-id":e.resource.id+t.id},on:{mouseenter:function(r){return e.$emit("hover-property",e.resource,t)},mouseleave:function(r){return e.$emit("unhover-property",e.resource,t)}}},[r("th",{staticClass:"border-b px-3 py-2"},[r("TermTooltip",{attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])],1),r("td",{staticClass:"border-b px-3 py-2"},e._l(t.values,(function(t){return r("div",{key:t.id},[e._t("property-value",(function(){return[r("TermTooltip",{attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])]}),{value:t})],2)})),0)])})),0)])},a=[],o=r("8ec2"),s={name:"ResourceCard",props:["resource","activeLinks"],components:{TermTooltip:o["a"]},data:function(){return{}},computed:{isActive:function(){var e=this;return this.activeLinks.some((function(t){return t.target===e.resource.id}))}},methods:{isPropertyActive:function(e){var t=this;return this.activeLinks.some((function(r){return r.source===t.resource.id&&r.sourceProperty===e.id}))}}},i=s,c=(r("dd6d"),r("2877")),u=Object(c["a"])(i,n,a,!1,null,"218921d2",null);t["a"]=u.exports},acd7:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("TermTooltip",{attrs:{label:e.tooltip}},[e._v(" "+e._s(e.displayValue)),e.language?r("small",{staticClass:"has-text-grey"},[e._v("@"+e._s(e.language))]):e._e()])},a=[],o=(r("99af"),r("8ec2")),s={name:"Term",props:["term","endpoint"],components:{TermTooltip:o["a"]},data:function(){var e=i(this.endpoint,this.term),t=c(this.endpoint,this.term);return{displayValue:e,language:this.term&&this.term.language,tooltip:t!==e?t:""}}};function i(e,t){return t?"NamedNode"===t.termType?e.shrink(t.value):t.value:t}function c(e,t){if("Literal"===t.termType){var r=t.datatype?"^^".concat(e.shrink(t.datatype.value)):"",n=t.language?"@".concat(t.language):"";return"".concat(t.value).concat(r).concat(n)}return t.value}var u=s,l=r("2877"),p=Object(l["a"])(u,n,a,!1,null,null,null);t["a"]=p.exports},b3fa:function(e,t,r){"use strict";r("7c34")},c2df:function(e,t,r){},dd6d:function(e,t,r){"use strict";r("c2df")}});
//# sourceMappingURL=app.7957fda0.js.map