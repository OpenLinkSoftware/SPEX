(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60da8cc6"],{"7c95":function(e,t,n){"use strict";async function r(){const e=(await Promise.all([n.e("chunk-24f68fb4"),n.e("chunk-5912d2c4")]).then(n.t.bind(null,"cd05",7))).default;return new e}async function a(){const e=(await Promise.resolve().then(n.t.bind(null,"8ea1",7))).default;return new e}async function s(){const e=await n.e("chunk-076d5769").then(n.t.bind(null,"785c",7));let t;return t=e.default?e.default.RdfXmlParser:e.RdfXmlParser,new t}async function o(){const e=(await n.e("chunk-61d2364b").then(n.t.bind(null,"c17c",7))).default;return new e({encoding:"string"})}async function i(){const e=(await n.e("chunk-52a5b8e8").then(n.t.bind(null,"6b99",7))).default;return new e}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var c=n("9304");const u=new c["a"],l=new c["a"];u.set("application/ld+json",r),u.set("application/trig",a),u.set("application/n-quads",a),u.set("application/n-triples",a),u.set("text/n3",a),u.set("text/turtle",a),u.set("application/rdf+xml",s),l.set("application/ld+json",o),l.set("application/n-quads",i),l.set("application/n-triples",i),l.set("text/n3",i),l.set("text/turtle",i);const d=u,f=l},9304:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("e372"),a=n.n(r);class s extends Map{import(e,t,n){const r=this.get(e);if(!r)return null;if("function"===typeof r){const s=new a.a.PassThrough({objectMode:!0});return Promise.resolve().then(async()=>{const a=await r();this.set(e,a);const o=a.import(t,n);o.on("error",e=>{s.emit("error",e),s.emit("end")}),o.pipe(s)}),s}return r.import(t,n)}}},f78d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Splitpanes",{staticClass:"default-theme"},[n("Pane",{attrs:{size:"40"}},[n("header",{staticClass:"px-4 py-2 bg-gray-200 flex items-center justify-between"},[n("h2",{staticClass:"font-bold text-lg"},[e._v("RDF editor")]),n("b-select",{model:{value:e.format,callback:function(t){e.format=t},expression:"format"}},e._l(e.formats,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)],1),n("rdf-editor",{ref:"shaclEditor",staticClass:"w-full h-full overflow-hidden",attrs:{format:e.format,value:e.shacl,"auto-parse":"",parseDelay:"1000"},on:{"parsing-failed":e.onParsingFailed,"quads-changed":e.onQuadsChanged}}),e.parseError?n("div",{staticClass:"message is-danger mb-0"},[n("div",{staticClass:"message-body"},[e._v(" "+e._s(e.parseError)+" ")])]):e._e()],1),n("Pane",[n("Splitpanes",{attrs:{horizontal:""}},[n("Pane",[n("div",{staticClass:"flex-grow flex flex-col"},[n("header",{staticClass:"px-4 py-2 bg-gray-200 flex items-center justify-between"},[n("h2",{staticClass:"font-bold text-lg"},[e._v("Representation")]),n("b-input",{staticClass:"invisible",attrs:{readonly:""}})],1),n("GraphLayout",{staticClass:"card-content p-0",attrs:{nodes:e.resources,links:e.links,"active-links":e.activeLinks,"auto-zoom":!1},on:{"link-enter":e.onLinkHover,"link-out":e.onUnhover},scopedSlots:e._u([{key:"node",fn:function(t){var r=t.node;return[n("ResourceCard",{attrs:{resource:r,"active-links":e.activeLinks},on:{"hover-title":e.onHoverResource,"unhover-title":e.onUnhover,"hover-property":e.onHoverProperty,"unhover-property":e.onUnhover},scopedSlots:e._u([{key:"property-value",fn:function(t){var r=t.value;return[n("div",{staticClass:"flex items-center"},[n("Term",{attrs:{term:r,endpoint:e.endpoint}})],1)]}}],null,!0)})]}}])})],1)])],1)],1)],1)},a=[],s=n("1da1"),o=n("5530"),i=n("2909"),c=(n("96cf"),n("d3b7"),n("ddb0"),n("d81d"),n("5db7"),n("73d9"),n("159b"),n("b0c0"),n("4de4"),n("ac1f"),n("466d"),n("4ec9"),n("3ca3"),n("d0b4")),u=n.n(c),l=n("bb03"),d=n("512e"),f=(n("c1ea"),n("c1de"),n("4e8a")),p=n.n(f),v=n("7c95"),h=n("150d"),m=n("95fd"),b=n("acd7"),k=Object(i["a"])(v["a"].keys()),w="",y={components:{GraphLayout:h["a"],Splitpanes:d["Splitpanes"],Pane:d["Pane"],ResourceCard:m["a"],Term:b["a"]},data:function(){return{format:"text/turtle",formats:k,shacl:w,resources:[],parseError:null,activeLinks:[],endpoint:{shrink:function(e){return Object(l["a"])(e)||e}}}},computed:{links:function(){var e=this.resources,t=new p.a(e.map((function(e){var t=e.term;return t})));return e.flatMap((function(e){return e.properties.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{resource:e})}))})).reduce((function(e,n){return n.values.forEach((function(r){var a=n.resource.term,s=r;t.has(s)&&e.push({source:a.value,target:s.value,sourceProperty:n.id,label:n.name})})),e}),[])}},methods:{onLinkHover:function(e){this.activeLinks.push(e)},onUnhover:function(){this.activeLinks=[]},onHoverResource:function(e){this.activeLinks=this.links.filter((function(t){return t.source===e.id}))},onHoverProperty:function(e,t){this.activeLinks=this.links.filter((function(n){return n.source===e.id&&n.sourceProperty===t.id}))},onParsingFailed:function(e){var t;this.parseError=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.error},onQuadsChanged:function(e){this.parseError=null,this.loadResources()},loadResources:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$refs.shaclEditor,e.resources=[],t.next=4,n.quads;case 4:r=t.sent,a=u.a.dataset(r),e.resources=g(a,e.endpoint);case 7:case"end":return t.stop()}}),t)})))()}}};function g(e,t){var n=new p.a(Object(i["a"])(e).map((function(e){var t=e.subject;return t})));return Object(i["a"])(n).map((function(n){var r=e.match(n),a=Object(i["a"])(r).reduce((function(e,n){var r=n.predicate,a=n.object;if(!e.has(r.value)){var s={id:r.value,term:r,name:t.shrink(r.value),values:new p.a};e.set(r.value,s)}return e.get(r.value).values.add(a),e}),new Map);return{id:n.value,term:n,name:t.shrink(n.value),properties:Object(i["a"])(a.values())}}))}var x=y,P=n("2877"),j=Object(P["a"])(x,r,a,!1,null,null,null);t["default"]=j.exports}}]);
//# sourceMappingURL=chunk-60da8cc6.4e49720d.js.map